#!/usr/bin/env bash

export_system_theme() {
	local color_theme="$1"
	local bat_theme="$2"

	local current_os
	current_os="$(uname -s)"

	if [ "${current_os}" = "Darwin" ]
	then
		launchctl setenv SYSTEM_THEME "${color_theme}"
		launchctl setenv BAT_THEME "${bat_theme}"
	elif [ "${current_os}" = "Linux" ]
	then
		export SYSTEM_THEME="${color_theme}"
		export BAT_THEME="${bat_theme}"
	fi
}

# Default theme: seoul256-light
case "${SYSTEM_THEME}" in
	challenger-deep)
		export_system_theme "${SYSTEM_THEME}" "ansi"
		;;
	nord)
		export_system_theme "${SYSTEM_THEME}" "Nord"
		;;
	seoul256-dark)
		export_system_theme "${SYSTEM_THEME}" "ansi"
		;;
	*)
		export_system_theme "seoul256-light" "ansi"
		;;
esac
